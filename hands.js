var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};(function(){var e;function aa(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(t==Array.prototype||t==Object.prototype)return t;t[e]=n.value;return t};function ca(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}var i=ca(this||t);function B(t,e){if(e)t:{var o=i;t=t.split(".");for(var a=0;a<t.length-1;a++){var u=t[a];if(!(u in o))break t;o=o[u]}t=t[t.length-1];a=o[t];e=e(a);e!=a&&null!=e&&n(o,t,{configurable:!0,writable:!0,value:e})}}B("Symbol",(function(e){function b(e){if((this||t)instanceof b)throw new TypeError("Symbol is not a constructor");return new c(i+(e||"")+"_"+o++,e)}function c(e,i){(this||t).g=e;n(this||t,"description",{configurable:!0,writable:!0,value:i})}if(e)return e;c.prototype.toString=function(){return(this||t).g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return b}));B("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<o.length;a++){var u=i[o[a]];"function"===typeof u&&"function"!=typeof u.prototype[e]&&n(u.prototype,e,{configurable:!0,writable:!0,value:function(){return da(aa(this||t))}})}return e}));function da(e){e={next:e};e[Symbol.iterator]=function(){return this||t};return e}function C(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:aa(t)}}function ea(t){if(!(t instanceof Array)){t=C(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}var o,a="function"==typeof Object.create?Object.create:function(t){function b(){}b.prototype=t;return new b};if("function"==typeof Object.setPrototypeOf)o=Object.setPrototypeOf;else{var u;t:{var s={a:!0},l={};try{l.__proto__=s;u=l.a;break t}catch(t){}u=!1}o=u?function(t,e){t.__proto__=e;if(t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=o;function D(t,e){t.prototype=a(e.prototype);t.prototype.constructor=t;if(h)h(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}else t[n]=e[n];t.ra=e.prototype}function ma(){(this||t).l=!1;(this||t).i=null;(this||t).h=void 0;(this||t).g=1;(this||t).u=(this||t).o=0;(this||t).j=null}function na(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}ma.prototype.s=function(e){(this||t).h=e};function oa(t,e){t.j={fa:e,ga:!0};t.g=t.o||t.u}ma.prototype.return=function(e){(this||t).j={return:e};(this||t).g=(this||t).u};function F(t,e,n){t.g=n;return{value:e}}function pa(e){(this||t).g=new ma;(this||t).h=e}function qa(t,e){na(t.g);var n=t.g.i;if(n)return ra(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return);t.g.return(e);return G(t)}function ra(t,e,n,i){try{var o=e.call(t.g.i,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return t.g.l=!1,o;var a=o.value}catch(e){return t.g.i=null,oa(t.g,e),G(t)}t.g.i=null;i.call(t.g,a);return G(t)}function G(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.l=!1,{value:e.value,done:!1}}catch(e){t.g.h=void 0,oa(t.g,e)}t.g.l=!1;if(t.g.j){e=t.g.j;t.g.j=null;if(e.ga)throw e.fa;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function sa(e){(this||t).next=function(t){na(e.g);e.g.i?t=ra(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=G(e));return t};(this||t).throw=function(t){na(e.g);e.g.i?t=ra(e,e.g.i.throw,t,e.g.s):(oa(e.g,t),t=G(e));return t};(this||t).return=function(t){return qa(e,t)};(this||t)[Symbol.iterator]=function(){return this||t}}function ta(t){function b(e){return t.next(e)}function c(e){return t.throw(e)}return new Promise((function(e,n){function g(t){t.done?e(t.value):Promise.resolve(t.value).then(b,c).then(g,n)}g(t.next())}))}function I(t){return ta(new sa(new pa(t)))}B("Promise",(function(e){function b(e){(this||t).h=0;(this||t).i=void 0;(this||t).g=[];(this||t).s=!1;var n=this.j();try{e(n.resolve,n.reject)}catch(t){n.reject(t)}}function c(){(this||t).g=null}function d(t){return t instanceof b?t:new b((function(e){e(t)}))}if(e)return e;c.prototype.h=function(e){if(null==(this||t).g){(this||t).g=[];var n=this||t;this.i((function(){n.l()}))}(this||t).g.push(e)};var n=i.setTimeout;c.prototype.i=function(t){n(t,0)};c.prototype.l=function(){for(;(this||t).g&&(this||t).g.length;){var e=(this||t).g;(this||t).g=[];for(var n=0;n<e.length;++n){var i=e[n];e[n]=null;try{i()}catch(t){this.j(t)}}}(this||t).g=null};c.prototype.j=function(t){this.i((function(){throw t}))};b.prototype.j=function(){function f(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this||t,n=!1;return{resolve:f((this||t).D),reject:f((this||t).l)}};b.prototype.D=function(e){if(e===(this||t))this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof b)this.H(e);else{t:switch(typeof e){case"object":var n=null!=e;break t;case"function":n=!0;break t;default:n=!1}n?this.A(e):this.o(e)}};b.prototype.A=function(t){var e=void 0;try{e=t.then}catch(t){this.l(t);return}"function"==typeof e?this.I(e,t):this.o(t)};b.prototype.l=function(t){this.u(2,t)};b.prototype.o=function(t){this.u(1,t)};b.prototype.u=function(e,n){if(0!=(this||t).h)throw Error("Cannot settle("+e+", "+n+"): Promise already settled in state"+(this||t).h);(this||t).h=e;(this||t).i=n;2===(this||t).h&&this.G();this.B()};b.prototype.G=function(){var e=this||t;n((function(){if(e.C()){var t=i.console;"undefined"!==typeof t&&t.error(e.i)}}),1)};b.prototype.C=function(){if((this||t).s)return!1;var e=i.CustomEvent,n=i.Event,o=i.dispatchEvent;if("undefined"===typeof o)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof n?e=new n("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this||t;e.reason=(this||t).i;return o(e)};b.prototype.B=function(){if(null!=(this||t).g){for(var e=0;e<(this||t).g.length;++e)o.h((this||t).g[e]);(this||t).g=null}};var o=new c;b.prototype.H=function(t){var e=this.j();t.M(e.resolve,e.reject)};b.prototype.I=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}};b.prototype.then=function(t,e){function k(t,e){return"function"==typeof t?function(e){try{n(t(e))}catch(t){i(t)}}:e}var n,i,o=new b((function(t,e){n=t;i=e}));this.M(k(t,n),k(e,i));return o};b.prototype.catch=function(t){return this.then(void 0,t)};b.prototype.M=function(e,n){function k(){switch(i.h){case 1:e(i.i);break;case 2:n(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this||t;null==(this||t).g?o.h(k):(this||t).g.push(k);(this||t).s=!0};b.resolve=d;b.reject=function(t){return new b((function(e,n){n(t)}))};b.race=function(t){return new b((function(e,n){for(var i=C(t),o=i.next();!o.done;o=i.next())d(o.value).M(e,n)}))};b.all=function(t){var e=C(t),n=e.next();return n.done?d([]):new b((function(t,i){function r(e){return function(n){o[e]=n;a--;0==a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,d(n.value).M(r(o.length-1),i),n=e.next()}while(!n.done)}))};return b}));function ua(t,e){t instanceof String&&(t+="");var n=0,i=!1,o={next:function(){if(!i&&n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}i=!0;return{done:!0,value:void 0}}};o[Symbol.iterator]=function(){return o};return o}var p="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};B("Object.assign",(function(t){return t||p}));B("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}}));B("Array.prototype.includes",(function(e){return e||function(e,n){var i=this||t;i instanceof String&&(i=String(i));var o=i.length;n=n||0;for(0>n&&(n=Math.max(n+o,0));n<o;n++){var a=i[n];if(a===e||Object.is(a,e))return!0}return!1}}));B("String.prototype.includes",(function(e){return e||function(e,n){if(null==(this||t))throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,n||0)}}));B("Array.prototype.keys",(function(e){return e||function(){return ua(this||t,(function(t){return t}))}}));var v=this||t||self;function J(t,e){t=t.split(".");var n=v;t[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+t[0]);for(var i;t.length&&(i=t.shift());)t.length||void 0===e?n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}:n[i]=e}function K(){throw Error("Invalid UTF8")}function xa(t,e){e=String.fromCharCode.apply(null,e);return null==t?e:t+e}var y,m,w="undefined"!==typeof TextDecoder,A="undefined"!==typeof TextEncoder;var j={},x=null;function Da(t){var e;void 0===e&&(e=0);Ea();e=j[e];for(var n=Array(Math.floor(t.length/3)),i=e[64]||"",o=0,a=0;o<t.length-2;o+=3){var u=t[o],s=t[o+1],l=t[o+2],h=e[u>>2];u=e[(3&u)<<4|s>>4];s=e[(15&s)<<2|l>>6];l=e[63&l];n[a++]=h+u+s+l}h=0;l=i;switch(t.length-o){case 2:h=t[o+1],l=e[(15&h)<<2]||i;case 1:t=t[o],n[a]=e[t>>2]+e[(3&t)<<4|h>>4]+l+i}return n.join("")}function Fa(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):-1!="=.".indexOf(t[e-1])&&(n=-1!="=.".indexOf(t[e-2])?n-2:n-1);var i=new Uint8Array(n),o=0;Ga(t,(function(t){i[o++]=t}));return o!==n?i.subarray(0,o):i}function Ga(t,e){function c(e){for(;n<t.length;){var i=t.charAt(n++),o=x[i];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(i))throw Error("Unknown base64 encoding at char: "+i)}return e}Ea();for(var n=0;;){var i=c(-1),o=c(0),a=c(64),u=c(64);if(64===u&&-1===i)break;e(i<<2|o>>4);64!=a&&(e(o<<4&240|a>>2),64!=u&&e(a<<6&192|u))}}function Ea(){if(!x){x={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=t.concat(e[n].split(""));j[n]=i;for(var o=0;o<i.length;o++){var a=i[o];void 0===x[a]&&(x[a]=o)}}}}var _="function"===typeof Uint8Array;function Ia(t){return _&&null!=t&&t instanceof Uint8Array}var E;function Ka(e){(this||t).L=e;if(null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var T="function"===typeof Uint8Array.prototype.slice,P=0,M=0;function Ma(t,e){if(t.constructor===Uint8Array)return t;if(t.constructor===ArrayBuffer)return new Uint8Array(t);if(t.constructor===Array)return new Uint8Array(t);if(t.constructor===String)return Fa(t);if(t.constructor===Ka){if(!e&&(e=t.L)&&e.constructor===Uint8Array)return e;e=t.L;e=null==e||Ia(e)?e:"string"===typeof e?Fa(e):null;return(t=t.L=e)?new Uint8Array(t):E||(E=new Uint8Array(0))}if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Na(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function Oa(){return Error("Failed to read varint, encoding is invalid.")}function Pa(e,n){n=void 0===n?{}:n;n=void 0!==n.v&&n.v;(this||t).h=null;(this||t).g=(this||t).i=(this||t).j=0;(this||t).v=n;e&&Qa(this||t,e)}function Qa(t,e){t.h=Ma(e,t.v);t.j=0;t.i=t.h.length;t.g=t.j}Pa.prototype.reset=function(){(this||t).g=(this||t).j};function O(t){if(t.g>t.i)throw Error("Tried to read past the end of the data "+t.g+" > "+t.i)}function Q(t){var e=t.h,n=e[t.g],i=127&n;if(128>n)return t.g+=1,O(t),i;n=e[t.g+1];i|=(127&n)<<7;if(128>n)return t.g+=2,O(t),i;n=e[t.g+2];i|=(127&n)<<14;if(128>n)return t.g+=3,O(t),i;n=e[t.g+3];i|=(127&n)<<21;if(128>n)return t.g+=4,O(t),i;n=e[t.g+4];t.g+=5;i|=(15&n)<<28;if(128>n)return O(t),i;if(128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++]&&128<=e[t.g++])throw Oa();O(t);return i}var L=[];function Sa(){(this||t).g=[]}Sa.prototype.length=function(){return(this||t).g.length};Sa.prototype.end=function(){var e=(this||t).g;(this||t).g=[];return e};function R(t,e){for(;127<e;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function Ta(e){var n={},i=void 0!==n.W&&n.W;(this||t).l={v:void 0!==n.v&&n.v};(this||t).W=i;n=(this||t).l;L.length?(i=L.pop(),n&&(i.v=n.v),e&&Qa(i,e),e=i):e=new Pa(e,n);(this||t).g=e;(this||t).j=(this||t).g.g;(this||t).h=(this||t).i=-1}Ta.prototype.reset=function(){(this||t).g.reset();(this||t).j=(this||t).g.g;(this||t).h=(this||t).i=-1};function Ua(t){var e=t.g;if(e.g==e.i)return!1;t.j=t.g.g;var n=Q(t.g)>>>0;e=n>>>3;n&=7;if(!(0<=n&&5>=n))throw Na(n,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");t.i=e;t.h=n;return!0}function Va(t){switch(t.h){case 0:if(0!=t.h)Va(t);else t:{t=t.g;for(var e=t.g,n=e+10;e<n;)if(0===(128&t.h[e++])){t.g=e;O(t);break t}throw Oa()}break;case 1:t=t.g;t.g+=8;O(t);break;case 2:2!=t.h?Va(t):(e=Q(t.g)>>>0,t=t.g,t.g+=e,O(t));break;case 5:t=t.g;t.g+=4;O(t);break;case 3:e=t.i;do{if(!Ua(t))throw Error("Unmatched start-group tag: stream EOF");if(4==t.h){if(t.i!=e)throw Error("Unmatched end-group tag");break}Va(t)}while(1);break;default:throw Na(t.h,t.j)}}var N=[];function Xa(){(this||t).i=[];(this||t).h=0;(this||t).g=new Sa}function S(t,e){0!==e.length&&(t.i.push(e),t.h+=e.length)}function Ya(t,e){if(e=e.ca){S(t,t.g.end());for(var n=0;n<e.length;n++)S(t,e[n])}}var H="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function Za(t,e){Object.isFrozen(t)||(H?t[H]|=e:void 0!==t.N?t.N|=e:Object.defineProperties(t,{N:{value:e,configurable:!0,writable:!0,enumerable:!1}}))}function $a(t){var e;e=H?t[H]:t.N;return null==e?0:e}function U(t){Za(t,1);return t}function ab(t){return!!Array.isArray(t)&&!!(2&$a(t))}function bb(t){if(!Array.isArray(t))throw Error("cannot mark non-array as immutable");Za(t,2)}function cb(t){return null!==t&&"object"===typeof t&&!Array.isArray(t)&&t.constructor===Object}var z=Object.freeze(U([]));function eb(t){if(ab(t.m))throw Error("Cannot mutate an immutable Message")}var Y="undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.hasInstance;function gb(t){return{value:t,configurable:!1,writable:!1,enumerable:!1}}function V(t,e,n){return-1===e?null:e>=t.i?t.g?t.g[e]:void 0:(void 0===n?0:n)&&t.g&&(n=t.g[e],null!=n)?n:t.m[e+t.h]}function W(t,e,n,i){i=void 0!==i&&i;eb(t);e<t.i&&!i?t.m[e+t.h]=n:(t.g||(t.g=t.m[t.i+t.h]={}))[e]=n}function hb(t,e,n,i){n=void 0===n||n;i=void 0!==i&&i;var o=V(t,e,i);null==o&&(o=z);ab(t.m)?n&&(bb(o),Object.freeze(o)):(o===z||ab(o))&&(o=U(o.slice()),W(t,e,o,i));return o}function X(t,e,n){t=V(t,e);t=null==t?t:+t;return null==t?void 0===n?0:n:t}function ib(t,e,n,i){t.j||(t.j={});var o=ab(t.m),a=t.j[n];if(!a){i=hb(t,n,!0,void 0!==i&&i);a=[];o=o||ab(i);for(var u=0;u<i.length;u++)a[u]=new e(i[u]),o&&bb(a[u].m);o&&(bb(a),Object.freeze(a));t.j[n]=a}return a}function jb(t,e,n,i,o){var a=void 0!==a&&a;eb(t);a=ib(t,n,e,a);n=i||new n;t=hb(t,e);void 0!=o?(a.splice(o,0,n),t.splice(o,0,n.m)):(a.push(n),t.push(n.m));return n}function kb(t,e){t=V(t,e);return null==t?0:t}function lb(t,e){t=V(t,e);return null==t?"":t}function mb(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t&&!Array.isArray(t)){if(Ia(t))return Da(t);if(t instanceof Ka){var e=t.L;e=null==e||"string"===typeof e?e:_&&e instanceof Uint8Array?Da(e):null;return(t.L=e)||""}}}return t}function nb(t){var e=ob;e=void 0===e?pb:e;return qb(t,e)}function rb(t,e){if(null!=t){if(Array.isArray(t))t=qb(t,e);else if(cb(t)){var n,i={};for(n in t)i[n]=rb(t[n],e);t=i}else t=e(t);return t}}function qb(t,e){for(var n=t.slice(),i=0;i<n.length;i++)n[i]=rb(n[i],e);Array.isArray(t)&&1&$a(t)&&U(n);return n}function ob(t){if(t&&"object"==typeof t&&t.toJSON)return t.toJSON();t=mb(t);return Array.isArray(t)?nb(t):t}function pb(t){return Ia(t)?new Uint8Array(t):t}function sb(e,n,i){e||(e=q);q=null;var o=(this||t).constructor.h;e||(e=o?[o]:[]);(this||t).h=(o?0:-1)-((this||t).constructor.g||0);(this||t).j=void 0;(this||t).m=e;o=(this||t).m.length;e=o-1;if(o&&(o=(this||t).m[e],cb(o))){(this||t).i=e-(this||t).h;(this||t).g=o}else void 0!==n&&-1<n?((this||t).i=Math.max(n,e+1-(this||t).h),(this||t).g=void 0):(this||t).i=Number.MAX_VALUE;if(i)for(n=0;n<i.length;n++)if(e=i[n],e<(this||t).i)e+=(this||t).h,(o=(this||t).m[e])?Array.isArray(o)&&U(o):(this||t).m[e]=z;else{o=(this||t).g||((this||t).g=(this||t).m[(this||t).i+(this||t).h]={});var a=o[e];a?Array.isArray(a)&&U(a):o[e]=z}}sb.prototype.toJSON=function(){return nb((this||t).m)};sb.prototype.toString=function(){return(this||t).m.toString()};var q;function ub(){sb.apply(this||t,arguments)}D(ub,sb);if(Y){var $={};Object.defineProperties(ub,($[Symbol.hasInstance]=gb((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),$))}function wb(t,e,n){if(n){var i,o={};for(i in n){var a=n[i],u=a.ja;u||(o.F=a.pa||a.ha.P,a.ba?(o.U=xb(a.ba),u=function(t){return function(e,n,i){return t.F(e,n,i,t.U)}}(o)):a.da?(o.T=yb(a.X.g,a.da),u=function(t){return function(e,n,i){return t.F(e,n,i,t.T)}}(o)):u=o.F,a.ja=u);u(e,t,a.X);o={F:o.F,U:o.U,T:o.T}}}Ya(e,t)}var tt=Symbol();function Ab(t,e,n){return t[tt]||(t[tt]=function(t,i){return e(t,i,n)})}function Bb(t){var e=t[tt];if(!e){var n=Cb(t);e=function(t,e){return Db(t,e,n)};t[tt]=e}return e}function Eb(t){var e=t.ba;return e?Bb(e):(e=t.oa)?Ab(t.X.g,e,t.da):void 0}function Fb(t){var e=Eb(t),n=t.X,i=t.ha.O;return e?function(t,o){return i(t,o,n,e)}:function(t,e){return i(t,e,n)}}function Gb(t,e,n,i,o,a){t=t();var u=0;t.length&&"number"!==typeof t[0]&&(n(e,t[0]),u++);for(;u<t.length;){n=t[u++];for(var s=u+1;s<t.length&&"number"!==typeof t[s];)s++;var l=t[u++];s-=u;switch(s){case 0:i(e,n,l);break;case 1:i(e,n,l,t[u++]);break;case 2:o(e,n,l,t[u++],t[u++]);break;case 3:s=t[u++];var h=t[u++],p=t[u++];Array.isArray(p)?o(e,n,l,s,h,p):a(e,n,l,s,h,p);break;case 4:a(e,n,l,t[u++],t[u++],t[u++],t[u++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return e}var et=Symbol();function xb(t){var e=t[et];if(!e){var n=Ib(t);e=function(t,e){return Jb(t,e,n)};t[et]=e}return e}function yb(t,e){var n=t[et];n||(n=function(t,n){return wb(t,n,e)},t[et]=n);return n}var nt=Symbol();function Lb(t,e){t.push(e)}function Mb(t,e,n){t.push(e,n.P)}function Nb(t,e,n,i,o){var a=xb(o),u=n.P;t.push(e,(function(t,e,n){return u(t,e,n,i,a)}))}function Ob(t,e,n,i,o,a){var u=yb(i,a),s=n.P;t.push(e,(function(t,e,n){return s(t,e,n,i,u)}))}function Ib(t){var e=t[nt];return e||Gb(t,t[nt]=[],Lb,Mb,Nb,Ob)}var rt=Symbol();function Qb(t,e){t[0]=e}function Rb(t,e,n,i){var o=n.O;t[e]=i?function(t,e,n){return o(t,e,n,i)}:o}function Sb(t,e,n,i,o,a){var u=n.O,s=Bb(o);t[e]=function(t,e,n){return u(t,e,n,i,s,a)}}function Tb(t,e,n,i,o,a,u){var s=n.O,l=Ab(i,o,a);t[e]=function(t,e,n){return s(t,e,n,i,l,u)}}function Cb(t){var e=t[rt];return e||Gb(t,t[rt]={},Qb,Rb,Sb,Tb)}function Db(t,e,n){for(;Ua(e)&&4!=e.h;){var i=e.i,o=n[i];if(!o){var a=n[0];a&&(a=a[i])&&(o=n[i]=Fb(a))}if((!o||!o(e,t,i))&&(o=e,i=t,a=o.j,Va(o),!o.W)){var u=o.g.h;o=o.g.g;o=a===o?E||(E=new Uint8Array(0)):T?u.slice(a,o):new Uint8Array(u.subarray(a,o));(a=i.ca)?a.push(o):i.ca=[o]}}return t}function Ub(t,e,n){if(N.length){var i=N.pop();t&&(Qa(i.g,t),i.i=-1,i.h=-1);t=i}else t=new Ta(t);try{return Db(new e,t,Cb(n))}finally{e=t.g,e.h=null,e.j=0,e.i=0,e.g=0,e.v=!1,t.i=-1,t.h=-1,100>N.length&&N.push(t)}}function Jb(t,e,n){for(var i=n.length,o=1==i%2,a=o?1:0;a<i;a+=2)(0,n[a+1])(e,t,n[a]);wb(t,e,o?n[0]:void 0)}function Vb(t,e){var n=new Xa;Jb(t,n,Ib(e));S(n,n.g.end());t=new Uint8Array(n.h);e=n.i;for(var i=e.length,o=0,a=0;a<i;a++){var u=e[a];t.set(u,o);o+=u.length}n.i=[t];return t}function Wb(t,e){return{O:t,P:e}}var it=Wb((function(t,e,n){if(5!==t.h)return!1;t=t.g;var i=t.h[t.g];var o=t.h[t.g+1];var a=t.h[t.g+2],u=t.h[t.g+3];t.g+=4;O(t);o=(i<<0|o<<8|a<<16|u<<24)>>>0;t=2*(o>>31)+1;i=o>>>23&255;o&=8388607;W(e,n,255==i?o?NaN:Infinity*t:0==i?t*Math.pow(2,-149)*o:t*Math.pow(2,i-150)*(o+Math.pow(2,23)));return!0}),(function(t,e,n){e=V(e,n);if(null!=e){R(t.g,8*n+5);t=t.g;var i=e;i=(n=0>i?1:0)?-i:i;0===i?0<1/i?P=M=0:(M=0,P=2147483648):isNaN(i)?(M=0,P=2147483647):34028234663852886e22<i?(M=0,P=(n<<31|2139095040)>>>0):11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),M=0,P=(n<<31|i)>>>0):(e=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-e),i=Math.round(8388608*i),16777216<=i&&++e,M=0,P=(n<<31|e+127<<23|8388607&i)>>>0);n=P;t.g.push(n>>>0&255);t.g.push(n>>>8&255);t.g.push(n>>>16&255);t.g.push(n>>>24&255)}})),ot=Wb((function(t,e,n){if(0!==t.h)return!1;for(var i=t.g,o=128,a=0,u=t=0;4>u&&128<=o;u++)o=i.h[i.g++],O(i),a|=(127&o)<<7*u;128<=o&&(o=i.h[i.g++],O(i),a|=(127&o)<<28,t|=(127&o)>>4);if(128<=o)for(u=0;5>u&&128<=o;u++)o=i.h[i.g++],O(i),t|=(127&o)<<7*u+3;if(!(128>o))throw Oa();i=a>>>0;o=t>>>0;(t=2147483648&o)&&(i=1+~i>>>0,o=~o>>>0,0==i&&(o=o+1>>>0));i=4294967296*o+(i>>>0);W(e,n,t?-i:i);return!0}),(function(t,e,n){e=V(e,n);if(null!=e&&null!=e){R(t.g,8*n);t=t.g;var i=e;n=0>i;i=Math.abs(i);e=i>>>0;i=Math.floor((i-e)/4294967296);i>>>=0;n&&(i=~i>>>0,e=1+(~e>>>0),4294967295<e&&(e=0,i++,4294967295<i&&(i=0)));P=e;M=i;n=P;for(e=M;0<e||127<n;)t.g.push(127&n|128),n=(n>>>7|e<<25)>>>0,e>>>=7;t.g.push(n)}})),at=Wb((function(t,e,n){if(0!==t.h)return!1;W(e,n,Q(t.g));return!0}),(function(t,e,n){e=V(e,n);if(null!=e&&null!=e)if(R(t.g,8*n),t=t.g,n=e,0<=n)R(t,n);else{for(e=0;9>e;e++)t.g.push(127&n|128),n>>=7;t.g.push(1)}})),ut=Wb((function(t,e,n){if(2!==t.h)return!1;var i=Q(t.g)>>>0;t=t.g;var o=t.g;t.g+=i;O(t);t=t.h;var a;if(w)(a=y)||(a=y=new TextDecoder("utf-8",{fatal:!0})),a=a.decode(t.subarray(o,o+i));else{i=o+i;for(var u,s,l,h=[],p=null;o<i;)u=t[o++],128>u?h.push(u):224>u?o>=i?K():(s=t[o++],194>u||128!==(192&s)?(o--,K()):h.push((31&u)<<6|63&s)):240>u?o>=i-1?K():(s=t[o++],128!==(192&s)||224===u&&160>s||237===u&&160<=s||128!==(192&(a=t[o++]))?(o--,K()):h.push((15&u)<<12|(63&s)<<6|63&a)):244>=u?o>=i-2?K():(s=t[o++],128!==(192&s)||0!==s-144+(u<<28)>>30||128!==(192&(a=t[o++]))||128!==(192&(l=t[o++]))?(o--,K()):(u=(7&u)<<18|(63&s)<<12|(63&a)<<6|63&l,u-=65536,h.push(55296+(u>>10&1023),56320+(1023&u)))):K(),8192<=h.length&&(p=xa(p,h),h.length=0);a=xa(p,h)}W(e,n,a);return!0}),(function(t,e,n){e=V(e,n);if(null!=e){var i=!1;i=void 0!==i&&i;if(A){if(i&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(m||(m=new TextEncoder)).encode(e)}else{for(var o=0,a=new Uint8Array(3*e.length),u=0;u<e.length;u++){var s=e.charCodeAt(u);if(128>s)a[o++]=s;else{if(2048>s)a[o++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&u<e.length){var l=e.charCodeAt(++u);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536;a[o++]=s>>18|240;a[o++]=s>>12&63|128;a[o++]=s>>6&63|128;a[o++]=63&s|128;continue}u--}if(i)throw Error("Found an unpaired surrogate");s=65533}a[o++]=s>>12|224;a[o++]=s>>6&63|128}a[o++]=63&s|128}}e=a.subarray(0,o)}R(t.g,8*n+2);R(t.g,e.length);S(t,t.g.end());S(t,e)}})),ct=Wb((function(t,e,n,i,o){if(2!==t.h)return!1;e=jb(e,n,i);n=t.g.i;i=Q(t.g)>>>0;var a=t.g.g+i,u=a-n;0>=u&&(t.g.i=a,o(e,t),u=a-t.g.g);if(u)throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-u)+" bytes, either the data ended unexpectedly or the message misreported its own length");t.g.g=a;t.g.i=n;return!0}),(function(t,e,n,i,o){e=ib(e,i,n);if(null!=e)for(i=0;i<e.length;i++){var a=t;R(a.g,8*n+2);var u=a.g.end();S(a,u);u.push(a.h);a=u;o(e[i],t);u=t;var s=a.pop();for(s=u.h+u.g.length()-s;127<s;)a.push(127&s|128),s>>>=7,u.h++;a.push(s);u.h++}}));function Z(){ub.apply(this||t,arguments)}D(Z,ub);if(Y){var st={};Object.defineProperties(Z,(st[Symbol.hasInstance]=gb(Object[Symbol.hasInstance]),st))}function bc(e){Z.call(this||t,e)}D(bc,Z);function cc(){return[1,at,2,it,3,ut,4,ut]}function dc(e){Z.call(this||t,e,-1,ft)}D(dc,Z);dc.prototype.addClassification=function(e,n){jb(this||t,1,bc,e,n);return this||t};function fc(){return[1,ct,bc,cc]}var ft=[1];function gc(e){Z.call(this||t,e)}D(gc,Z);function hc(){return[1,it,2,it,3,it,4,it,5,it]}function ic(e){Z.call(this||t,e,-1,lt)}D(ic,Z);function kc(){return[1,ct,gc,hc]}var lt=[1];function lc(e){Z.call(this||t,e)}D(lc,Z);function mc(){return[1,it,2,it,3,it,4,it,5,it,6,ot]}function nc(t,e,n){n=t.createShader(0===n?t.VERTEX_SHADER:t.FRAGMENT_SHADER);t.shaderSource(n,e);t.compileShader(n);if(!t.getShaderParameter(n,t.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+t.getShaderInfoLog(n));return n}function oc(t){return ib(t,bc,1).map((function(t){return{index:kb(t,1),score:X(t,2),label:null!=V(t,3)?lb(t,3):void 0,displayName:null!=V(t,4)?lb(t,4):void 0}}))}function pc(t){return{x:X(t,1),y:X(t,2),z:X(t,3),visibility:null!=V(t,4)?X(t,4):void 0}}function qc(t){return t.map((function(t){return ib(Ub(t,ic,kc),gc,1).map(pc)}))}function rc(e,n){(this||t).h=e;(this||t).g=n;(this||t).l=0}function sc(t,e,n){tc(t,e);if("function"===typeof t.g.canvas.transferToImageBitmap)return Promise.resolve(t.g.canvas.transferToImageBitmap());if(n)return Promise.resolve(t.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(t.g.canvas);void 0===t.i&&(t.i=document.createElement("canvas"));return new Promise((function(e){t.i.height=t.g.canvas.height;t.i.width=t.g.canvas.width;t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height);e(t.i)}))}function tc(t,e){var n=t.g;if(void 0===t.o){var i=nc(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),o=nc(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),a=n.createProgram();n.attachShader(a,i);n.attachShader(a,o);n.linkProgram(a);if(!n.getProgramParameter(a,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(a));i=t.o=a;n.useProgram(i);o=n.getUniformLocation(i,"sampler0");t.j={K:n.getAttribLocation(i,"aVertex"),J:n.getAttribLocation(i,"aTex"),qa:o};t.u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t.u);n.enableVertexAttribArray(t.j.K);n.vertexAttribPointer(t.j.K,2,n.FLOAT,!1,0,0);n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);n.bindBuffer(n.ARRAY_BUFFER,null);t.s=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t.s);n.enableVertexAttribArray(t.j.J);n.vertexAttribPointer(t.j.J,2,n.FLOAT,!1,0,0);n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW);n.bindBuffer(n.ARRAY_BUFFER,null);n.uniform1i(o,0)}i=t.j;n.useProgram(t.o);n.canvas.width=e.width;n.canvas.height=e.height;n.viewport(0,0,e.width,e.height);n.activeTexture(n.TEXTURE0);t.h.bindTexture2d(e.glName);n.enableVertexAttribArray(i.K);n.bindBuffer(n.ARRAY_BUFFER,t.u);n.vertexAttribPointer(i.K,2,n.FLOAT,!1,0,0);n.enableVertexAttribArray(i.J);n.bindBuffer(n.ARRAY_BUFFER,t.s);n.vertexAttribPointer(i.J,2,n.FLOAT,!1,0,0);n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null);n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);n.colorMask(!0,!0,!0,!0);n.drawArrays(n.TRIANGLE_FAN,0,4);n.disableVertexAttribArray(i.K);n.disableVertexAttribArray(i.J);n.bindBuffer(n.ARRAY_BUFFER,null);t.h.bindTexture2d(0)}function uc(e){(this||t).g=e}var ht=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function wc(t,e){return e+t}function xc(t,e){window[t]=e}function yc(t){var e=document.createElement("script");e.setAttribute("src",t);e.setAttribute("crossorigin","anonymous");return new Promise((function(t){e.addEventListener("load",(function(){t()}),!1);e.addEventListener("error",(function(){t()}),!1);document.body.appendChild(e)}))}function zc(){return I((function(t){switch(t.g){case 1:return t.o=2,F(t,WebAssembly.instantiate(ht),4);case 4:t.g=3;t.o=0;break;case 2:return t.o=0,t.j=null,t.return(!1);case 3:return t.return(!0)}}))}function Ac(e){(this||t).g=e;(this||t).listeners={};(this||t).j={};(this||t).H={};(this||t).o={};(this||t).u={};(this||t).I=(this||t).s=(this||t).$=!0;(this||t).D=Promise.resolve();(this||t).Z="";(this||t).C={};(this||t).locateFile=e&&e.locateFile||wc;if("object"===typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}(this||t).aa=n;if(e.options){n=C(Object.keys(e.options));for(var i=n.next();!i.done;i=n.next()){i=i.value;var o=e.options[i].default;void 0!==o&&((this||t).j[i]="function"===typeof o?o():o)}}}e=Ac.prototype;e.close=function(){(this||t).i&&(this||t).i.delete();return Promise.resolve()};function Bc(t){var e,n,i,o,a,u,s,l,h,p,v;return I((function(y){switch(y.g){case 1:if(!t.$)return y.return();e=void 0===t.g.files?[]:"function"===typeof t.g.files?t.g.files(t.j):t.g.files;return F(y,zc(),2);case 2:n=y.h;if("object"===typeof window)return xc("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),xc("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),u=e.filter((function(t){return void 0!==t.data})),s=e.filter((function(t){return void 0===t.data})),l=Promise.all(u.map((function(e){var n=Cc(t,e.url);if(void 0!==e.path){var i=e.path;n=n.then((function(e){t.overrideFile(i,e);return Promise.resolve(e)}))}return n}))),h=Promise.all(s.map((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n?yc(t.locateFile(e.url,t.aa)):Promise.resolve()}))).then((function(){var e,n,i;return I((function(o){if(1==o.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,F(o,e(n),2);i.h=o.h;o.g=0}))})),p=function(){return I((function(e){t.g.graph&&t.g.graph.url?e=F(e,Cc(t,t.g.graph.url),0):(e.g=0,e=void 0);return e}))}(),F(y,Promise.all([h,l,p]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");i=e.filter((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n})).map((function(e){return t.locateFile(e.url,t.aa)}));importScripts.apply(null,ea(i));o=t;return F(y,createMediapipeSolutionsWasm(Module),6);case 6:o.h=y.h;t.l=new OffscreenCanvas(1,1);t.h.canvas=t.l;a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,na:"undefined"!==typeof WebGL2RenderingContext?2:1});t.h.GL.makeContextCurrent(a);y.g=4;break;case 7:t.l=document.createElement("canvas");v=t.l.getContext("webgl2",{});if(!v&&(v=t.l.getContext("webgl",{}),!v))return alert("Failed to create WebGL canvas context when passing video frame."),y.return();t.G=v;t.h.canvas=t.l;t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.$=!1,y.g=0}}))}function Dc(t){var e,n,i,o,a,u,s,l;return I((function(h){if(1==h.g){if(t.g.graph&&t.g.graph.url&&t.Z===t.g.graph.url)return h.return();t.s=!0;if(!t.g.graph||!t.g.graph.url){h.g=2;return}t.Z=t.g.graph.url;return F(h,Cc(t,t.g.graph.url),3)}2!=h.g&&(e=h.h,t.i.loadGraph(e));n=C(Object.keys(t.C));for(i=n.next();!i.done;i=n.next())o=i.value,t.i.overrideFile(o,t.C[o]);t.C={};if(t.g.listeners)for(a=C(t.g.listeners),u=a.next();!u.done;u=a.next())s=u.value,Ec(t,s);l=t.j;t.j={};t.setOptions(l);h.g=0}))}e.reset=function(){var e=this||t;return I((function(t){e.i&&(e.i.reset(),e.o={},e.u={});t.g=0}))};e.setOptions=function(e,n){var i=this||t;if(n=n||(this||t).g.options){for(var o=[],a=[],u={},s=C(Object.keys(e)),l=s.next();!l.done;u={R:u.R,S:u.S},l=s.next()){var h=l.value;h in(this||t).j&&(this||t).j[h]===e[h]||((this||t).j[h]=e[h],l=n[h],void 0!==l&&(l.onChange&&(u.R=l.onChange,u.S=e[h],o.push(function(t){return function(){var e;return I((function(n){if(1==n.g)return F(n,t.R(t.S),2);e=n.h;!0===e&&(i.s=!0);n.g=0}))}}(u))),l.graphOptionXref&&(h={valueNumber:1===l.type?e[h]:0,valueBoolean:0===l.type&&e[h],valueString:2===l.type?e[h]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),h),a.push(l))))}0===o.length&&0===a.length||((this||t).s=!0,(this||t).B=(void 0===(this||t).B?[]:(this||t).B).concat(a),(this||t).A=(void 0===(this||t).A?[]:(this||t).A).concat(o))}};function Fc(t){var e,n,i,o,a,u,s;return I((function(l){switch(l.g){case 1:if(!t.s)return l.return();if(!t.A){l.g=2;break}e=C(t.A);n=e.next();case 3:if(n.done){l.g=5;break}i=n.value;return F(l,i(),4);case 4:n=e.next();l.g=3;break;case 5:t.A=void 0;case 2:if(t.B){o=new t.h.GraphOptionChangeRequestList;a=C(t.B);for(u=a.next();!u.done;u=a.next())s=u.value,o.push_back(s);t.i.changeOptions(o);o.delete();t.B=void 0}t.s=!1;l.g=0}}))}e.initialize=function(){var e=this||t;return I((function(t){return 1==t.g?F(t,Bc(e),2):3!=t.g?F(t,Dc(e),3):F(t,Fc(e),0)}))};function Cc(t,e){var n,i;return I((function(o){if(e in t.H)return o.return(t.H[e]);n=t.locateFile(e,"");i=fetch(n).then((function(t){return t.arrayBuffer()}));t.H[e]=i;return o.return(i)}))}e.overrideFile=function(e,n){(this||t).i?(this||t).i.overrideFile(e,n):(this||t).C[e]=n};e.clearOverriddenFiles=function(){(this||t).C={};(this||t).i&&(this||t).i.clearOverriddenFiles()};e.send=function(e,n){var i,o,a,u,s,l,h,p,v,y=this||t;return I((function(t){switch(t.g){case 1:if(!y.g.inputs)return t.return();i=1e3*(void 0===n||null===n?performance.now():n);return F(t,y.D,2);case 2:return F(t,y.initialize(),3);case 3:o=new y.h.PacketDataList;a=C(Object.keys(e));for(u=a.next();!u.done;u=a.next())if(s=u.value,l=y.g.inputs[s]){t:{var m=e[s];switch(l.type){case"video":var w=y.o[l.stream];w||(w=new rc(y.h,y.G),y.o[l.stream]=w);0===w.l&&(w.l=w.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&m instanceof HTMLVideoElement){var A=m.videoWidth;var j=m.videoHeight}else"undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement?(A=m.naturalWidth,j=m.naturalHeight):(A=m.width,j=m.height);j={glName:w.l,width:A,height:j};A=w.g;A.canvas.width=j.width;A.canvas.height=j.height;A.activeTexture(A.TEXTURE0);w.h.bindTexture2d(w.l);A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,m);w.h.bindTexture2d(0);w=j;break t;case"detections":w=y.o[l.stream];w||(w=new uc(y.h),y.o[l.stream]=w);w.data||(w.data=new w.g.DetectionListData);w.data.reset(m.length);for(j=0;j<m.length;++j){A=m[j];var x=w.data,_=x.setBoundingBox,E=j;var T=A.ea;var P=new lc;W(P,1,T.ka);W(P,2,T.la);W(P,3,T.height);W(P,4,T.width);W(P,5,T.rotation);W(P,6,T.ia);T=Vb(P,mc);_.call(x,E,T);if(A.Y)for(x=0;x<A.Y.length;++x){P=A.Y[x];var M=!!P.visibility;_=w.data;E=_.addNormalizedLandmark;T=j;P=Object.assign(Object.assign({},P),{visibility:M?P.visibility:0});M=new gc;W(M,1,P.x);W(M,2,P.y);W(M,3,P.z);P.visibility&&W(M,4,P.visibility);P=Vb(M,hc);E.call(_,T,P)}if(A.V)for(x=0;x<A.V.length;++x)_=w.data,E=_.addClassification,T=j,P=A.V[x],M=new bc,W(M,2,P.score),P.index&&W(M,1,P.index),P.label&&W(M,3,P.label),P.displayName&&W(M,4,P.displayName),P=Vb(M,cc),E.call(_,T,P)}w=w.data;break t;default:w={}}}h=w;p=l.stream;switch(l.type){case"video":o.pushTexture2d(Object.assign(Object.assign({},h),{stream:p,timestamp:i}));break;case"detections":v=h;v.stream=p;v.timestamp=i;o.pushDetectionList(v);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}y.i.send(o);return F(t,y.D,4);case 4:o.delete(),t.g=0}}))};function Gc(t,e,n){var i,o,a,u,s,l,h,p,v,y,m,w,A,j;return I((function(x){switch(x.g){case 1:if(!n)return x.return(e);i={};o=0;a=C(Object.keys(n));for(u=a.next();!u.done;u=a.next())s=u.value,l=n[s],"string"!==typeof l&&"texture"===l.type&&void 0!==e[l.stream]&&++o;1<o&&(t.I=!1);h=C(Object.keys(n));u=h.next();case 2:if(u.done){x.g=4;break}p=u.value;v=n[p];if("string"===typeof v)return A=i,j=p,F(x,Hc(t,p,e[v]),14);y=e[v.stream];if("detection_list"===v.type){if(y){var _=y.getRectList();for(var E=y.getLandmarksList(),T=y.getClassificationsList(),P=[],M=0;M<_.size();++M){var L=Ub(_.get(M),lc,mc);L={ea:{ka:X(L,1),la:X(L,2),height:X(L,3),width:X(L,4),rotation:X(L,5,0),ia:kb(L,6)},Y:ib(Ub(E.get(M),ic,kc),gc,1).map(pc),V:oc(Ub(T.get(M),dc,fc))};P.push(L)}_=P}else _=[];i[p]=_;x.g=7;break}if("proto_list"===v.type){if(y){_=Array(y.size());for(E=0;E<y.size();E++)_[E]=y.get(E);y.delete()}else _=[];i[p]=_;x.g=7;break}if(void 0===y){x.g=3;break}if("float_list"===v.type){i[p]=y;x.g=7;break}if("proto"===v.type){i[p]=y;x.g=7;break}if("texture"!==v.type)throw Error("Unknown output config type: '"+v.type+"'");m=t.u[p];m||(m=new rc(t.h,t.G),t.u[p]=m);return F(x,sc(m,y,t.I),13);case 13:w=x.h,i[p]=w;case 7:v.transform&&i[p]&&(i[p]=v.transform(i[p]));x.g=3;break;case 14:A[j]=x.h;case 3:u=h.next();x.g=2;break;case 4:return x.return(i)}}))}function Hc(t,e,n){var i;return I((function(o){return"number"===typeof n||n instanceof Uint8Array||n instanceof t.h.Uint8BlobList?o.return(n):n instanceof t.h.Texture2dDataOut?(i=t.u[e],i||(i=new rc(t.h,t.G),t.u[e]=i),o.return(sc(i,n,t.I))):o.return(void 0)}))}function Ec(t,e){for(var n=e.name||"$",i=[].concat(ea(e.wants)),o=new t.h.StringList,a=C(e.wants),u=a.next();!u.done;u=a.next())o.push_back(u.value);a=t.h.PacketListener.implement({onResults:function(o){for(var a={},u=0;u<e.wants.length;++u)a[i[u]]=o.get(u);var s=t.listeners[n];s&&(t.D=Gc(t,a,e.outs).then((function(n){n=s(n);for(var o=0;o<e.wants.length;++o){var u=a[i[o]];"object"===typeof u&&u.hasOwnProperty&&u.hasOwnProperty("delete")&&u.delete()}n&&(t.D=n)})))}});t.i.attachMultiListener(o,a);o.delete()}e.onResults=function(e,n){(this||t).listeners[n||"$"]=e};J("Solution",Ac);J("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ic(t){void 0===t&&(t=0);return 1===t?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Jc(e){var n=this||t;e=e||{};(this||t).g=new Ac({locateFile:e.locateFile,files:function(t){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Ic(t.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:qc},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:qc},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(t){return t.map((function(t){return oc(Ub(t,dc,fc))[0]}))}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(t){var e,i,o;return I((function(a){if(1==a.g)return e=Ic(t),i="third_party/mediapipe/modules/hand_landmark/"+e,F(a,Cc(n.g,e),2);o=a.h;n.g.overrideFile(i,o);return a.return(!0)}))}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}e=Jc.prototype;e.close=function(){(this||t).g.close();return Promise.resolve()};e.onResults=function(e){(this||t).g.onResults(e)};e.initialize=function(){var e=this||t;return I((function(t){return F(t,e.g.initialize(),0)}))};e.reset=function(){(this||t).g.reset()};e.send=function(e){var n=this||t;return I((function(t){return F(t,n.g.send(e),0)}))};e.setOptions=function(e){(this||t).g.setOptions(e)};J("Hands",Jc);J("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);J("VERSION","0.4.1646424915")}).call(e);export{e as default};

//# sourceMappingURL=hands.js.map
